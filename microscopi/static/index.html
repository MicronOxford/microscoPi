<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="">
  <link rel="icon" href="../../favicon.ico">

  <title>Microscopi</title>

  <!-- Bootstrap core CSS -->
  <link href="./css/bootstrap.min.css" rel="stylesheet">
  <link href="./css/theme.css" rel="stylesheet">

  <!-- Custom styles -->
  <link href="./css/style.css" rel="stylesheet">

  <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
  <link href="./css/ie10-viewport-bug-workaround.css" rel="stylesheet">

  <!-- Fonts -->
  <link href="css/fonts.css" rel="stylesheet">
  <link href="fonts/fontawesome/css/all.min.css" rel="stylesheet">
  <script defer src="fonts/fontawesome/js/all.min.js"></script>
  <script defer src="fonts/fontawesome/js/v4-shims.min.js"></script>



</head>

<body>
  <header class="title">
    <h1>Microscopi</h1>
  </header>
  <main class="container-fluid p-0">
    <div class="pane pane-main">

      <div class="panel-main">
        <div class="camera-controls" style="position:relative;">
          <div class="camera-image">
            <img class="img-camera" src="/camera/stream/" alt="Live microscope camera stream"/>
            <button type="button" class="btn move-btn move-up" aria-label="Move stage up"><span class="fa fa-arrow-up"></span></button>
            <button type="button" class="btn move-btn move-down" aria-label="Move stage down"><span class="fa fa-arrow-down"></span></button>
            <button type="button" class="btn move-btn move-left" aria-label="Move stage left"><span class="fa fa-arrow-left"></span></button>
            <button type="button" class="btn move-btn move-right" aria-label="Move stage right"><span class="fa fa-arrow-right"></span></button>

          </div>

          <div class="btn-toolbar d-flex justify-content-center mt-2" role="toolbar" aria-label="Capture toolbar">
            <div class="btn-group" role="group" aria-label="Basic capture">
              <button type="button" class="btn-preview btn btn-primary" aria-label="Show camera preview"><span class="fa fa-video-camera"></span>
                Preview</button>
              <button type="button" class="btn-capture btn btn-primary" aria-label="Capture image"><span class="fa fa-camera"></span>
                Capture</button>
              <button type="button" class="btn-view btn btn-primary" aria-label="Viewed captured images"><span class="fa fa-eye"></span> View</button>
            </div>
            <div class="btn-group ml-2" role="group" aria-label="Advanced capture">
              <button type="button" data-toggle="modal" data-target="#advanced-modal"
                class="btn-advanced btn btn-primary" aria-label="Show advanced capture options"><span class="fa fa-star"></span> Advanced</button>
            </div>
          </div>

          <div class="btn-toolbar toolbar-view d-flex justify-content-center" role="toolbar" aria-label="View toolbar">
            <div class="btn-group btn-group-view" role="group" aria-label="View buttons">
              <button type="button" class="btn-previmage btn btn-secondary" aria-label="Show previous saved image"><span
                  class="fa fa-chevron-left"></span></button>
              <button type="button" class="img-count btn-previmage btn btn-secondary disabled" aria-label="Label for stored image count">0</button>
              <button type="button" class="btn-nextimage btn btn-secondary" aria-label="Show next saved image"><span
                  class="fa fa-chevron-right"></span></button>
              <button type="button" class="btn-saveimage btn btn-secondary" aria-label="Download current image"><span
                  class="fa fa-floppy-o"></span></button>
              <button type="button" class="btn-deleteimage btn btn-secondary" aria-label="Delete current image"><span class="fa fa-trash"></span></button>
            </div>
          </div>
        </div>

        <div class="controls mt-2 mt-md-0 ml-md-4">
          <ul class="nav nav-justified nav-pills" id="controls-tabs" role="tablist">
            <li class="nav-item">
              <a class="nav-link active" id="controls-movement-tab" data-toggle="tab" href="#controls-movement"
                role="tab" aria-controls="controls-movement" aria-selected="true">Movement</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" id="controls-illumination-tab" data-toggle="tab" href="#controls-illumination"
                role="tab" aria-controls="controls-illumination" aria-selected="false">Illumination</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" id="controls-camera-tab" data-toggle="tab" href="#controls-camera" role="tab"
                aria-controls="controls-camera" aria-selected="false">Camera</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" id="controls-other-tab" data-toggle="tab" href="#controls-other" role="tab"
                aria-controls="controls-other" aria-selected="false">Other</a>
            </li>
          </ul>

          <div class="tab-content">
            <div class="tab-pane active" id="controls-movement" role="tabpanel"
              aria-labelledby="controls-illumination-tab">
              <form>
                <fieldset class="form-group">
                  <legend class="text-center">Focus</legend>
                  <div class="btn-toolbar justify-content-center" role="toolbar" aria-label="Focus toolbar">
                    <div class="btn-group mr-2" role="group" aria-label="Focus control group">
                      <button type="button" class="focus-up btn btn-primary" aria-label="Move focus up"><span class="fa fa-hand-o-up"></span>
                        up</button>
                      <button type="button" class="focus-down btn btn-primary" aria-label="Move focus down"><span class="fa fa-hand-o-down"></span>
                        down</button>
                      <input type="text" id="focus-steps" placeholder="5" value="5" aria-label="Focus stepsize"></input>
                    </div>
                  </div>
                </fieldset>

                <fieldset class="form-group">
                  <legend class="text-center">Stage</legend>
                  <div class="row justify-content-center">
                    <label for="steps" class="col-sm-4 col-form-label">Stepsize</label>
                    <div class="col-sm-3">
                      <input id="steps" type="number" step="1" class="steps form-control" value="20">
                    </div>
                  </div>
                </fieldset>
              </form>
            </div>

            <div class="tab-pane" id="controls-illumination" role="tabpanel"
              aria-labelledby="controls-illumination-tab">
              <div class="container justify-content-center">

              </div>
              <form>
                <fieldset>
                  <legend class="text-center">LED</legend>
                  <div class="btn-toolbar justify-content-center" role="toolbar" aria-label="LED toolbar">
                    <div class="btn-group" role="group" aria-label="LED control buttons">
                      <button type="button" class="btn btn-primary btn-led-on" aria-label="Turn LED on"><span class="fa fa-sun-o"></span> LED
                        on</button>
                      <button type="button" class="btn btn-primary btn-led-off" aria-label="Turn LED off"><span class="fa fa-moon-o"></span> LED
                        off</button>
                      <button type="button" class="btn btn-primary btn-led-down" aria-label="Decrease LED brightness"><span
                          class="fa fa-minus"></span></button>
                      <button type="button" class="btn btn-primary btn-led-up" aria-label="Increase LED brightness"><span class="fa fa-plus"></span></button>
                    </div>
                  </div>
                </fieldset>
                <fieldset>
                  <legend class="text-center">Matrix</legend>
                  <div class="btn-toolbar justify-content-center" role="toolbar" aria-label="Matrix brightness control toolbar">
                    <div class="btn-group" role="group" aria-label="Matrix brightness control buttons">
                      <button type="button" class="btn btn-primary btn-matrix-on" aria-label="Turn illumination matrix on"><span class="fa fa-sun-o"></span> Matrix
                        on</button>
                      <button type="button" class="btn btn-primary btn-matrix-off" aria-label="Turn illumination matrix off"><span class="fa fa-moon-o"></span> Matrix
                        off</button>
                      <button type="button" class="btn btn-primary btn-matrix-down" aria-label="Increase illumination matrix brightness"><span
                          class="fa fa-minus"></span></button>
                      <button type="button" class="btn btn-primary btn-matrix-up" aria-label="Decrease illumination matrix brightness"><span class="fa fa-plus"></span></button>
                    </div>
                  </div>
                  <div class="btn-toolbar justify-content-center mt-2" role="toolbar" aria-label="Matrix basic illumination pattern toolbar">
                    <div class="btn-group" role="group" aria-label="Matrix basic illumination pattern buttons">
                      <div class="input-group-prepend" aria-hidden="true"><span class="input-group-text" id="basic-pattern-label">Pattern:</span></div>
                      <button type="button" class="btn btn-primary btn-matrix-pattern-all" aria-label="Set illumination matrix pattern to all on">all</button>
                      <button type="button" class="btn btn-primary btn-matrix-pattern-bright" aria-label="Set illumination matrix pattern to bright-field">bright</button>
                      <button type="button" class="btn btn-primary btn-matrix-pattern-dark" aria-label="Set illumination matrix pattern to dark-field">dark</button>
                      <button type="button" class="btn btn-primary btn-matrix-pattern-none" aria-label="Set illumination matrix pattern to all off">none</button>
                    </div>
                  </div>
                  <div class="btn-toolbar justify-content-center mt-2" role="toolbar" aria-label="Matrix oblique illumination pattern toolbar">
                    <div class="btn-group" role="group" aria-label="Matrix oblique illumination pattern buttons">
                      <div class="input-group-prepend" aria-hidden="true"><span class="input-group-text" id="oblique-pattern-label">Oblique:</span></div>
                      <button type="button" class="btn btn-primary btn-matrix-oblique-left" aria-label="Set illumination matrix pattern to oblique left">left</button>
                      <button type="button" class="btn btn-primary btn-matrix-oblique-right" aria-label="Set illumination matrix pattern to oblique right">right</button>
                      <button type="button" class="btn btn-primary btn-matrix-oblique-top" aria-label="Set illumination matrix pattern to oblique top">top</button>
                      <button type="button" class="btn btn-primary btn-matrix-oblique-bottom" aria-label="Set illumination matrix pattern to oblique bottom">bottom</button>
                    </div>
                  </div>
                </fieldset>
              </form>
            </div>

            <div class="tab-pane" id="controls-camera" role="tabpanel" aria-labelledby="controls-camera-tab">
              <form>
                <fieldset>
                  <legend class="text-center">Camera</legend>

                  <div class="btn-toolbar justify-content-center" role="toolbar" aria-label="Camera settings toolbar">
                    <div class="btn-group" role="group" aria-label="Camera settings">
                      <button type="button" data-toggle="modal" data-target="#camera-settings-modal"
                        class="btn-settings btn btn-primary" aria-label="Show camera settings dialog"><span class="fa fa-cog"></span> Settings</button>
                    </div>
                  </div>
                </fieldset>
              </form>
            </div>

            <div class="tab-pane" id="controls-other" role="tabpanel" aria-labelledby="controls-other-tab">
              <form>
                <fieldset>
                  <legend class="text-center">Log</legend> <div class="btn-toolbar d-flex justify-content-center"
                    role="toolbar" aria-label="Other settings">
                    <button id="log-toggle" class="btn btn-primary">Toggle log</button>
            </div>
            </fieldset>
            </form>
          </div>

        </div>

      </div>

      <!-- Log pane -->
    </div>
    <div class="pane pane-log mt-md-4">
      <h2>Log</h2>
      <div id="log"></div>
    </div>
  </main>

  <!-- Settings modal -->
  <div id="camera-settings-modal" class="modal fade">
    <div class="modal-dialog modal-dialog-scrollable" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Camera settings</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <img class="img-camera-modal" src="/camera/stream/" aria-label="Live microscope camera stream">
          <div class="camera-settings-controls" id="camera-settings"></div>

          <!-- <button type="button" class="btn btn-primary btn-log">
                          <span class="fa fa-th-list"></span> Log
                        </button> -->
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Settings modal -->
  <div id="advanced-modal" class="modal fade">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Advanced</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <!-- Advanced tabs -->
          <ul class="nav nav-tabs" id="advanced-tabs" role="tablist">
            <li class="nav-item">
              <a class="nav-link active" id="timelapse-tab" data-toggle="tab" href="#timelapse" role="tab"
                aria-controls="timelapse" aria-selected="true">Timelapse</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" id="zstack-tab" data-toggle="tab" href="#zstack" role="tab" aria-controls="zstack"
                aria-selected="false">Z-stack</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" id="stitch-tab" data-toggle="tab" href="#stitch" role="tab" aria-controls="stitch"
                aria-selected="false">Stitch</a>
            </li>
          </ul>

          <!-- Tab panes -->
          <div class="tab-content">
            <div class="tab-pane active" id="timelapse" role="tabpanel" aria-labelledby="timelapse-tab">
              <form>
                <div class="form-group">
                  <label for="timelapse-time">time (seconds)</label>
                  <input class="form-control" id="timelapse-time" value="10">
                </div>
                <button class="btn btn-primary btn-timelapse">Go</button>
                <div id="timelapse-status" class="task-status alert alert-primary alert-success" role="alert"></div>
              </form>
            </div>
            <div class="tab-pane" id="zstack" role="tabpanel" aria-labelledby="zstack-tab">
              <form>
                <div class="form-group">
                  <label for="zstack-n">n</label>
                  <input class="form-control" id="zstack-n" value="10">
                </div>
                <div class="form-group">
                  <label class="text-center" for="zstack-step">stepsize</label>
                  <input class="form-control" id="zstack-step" value="100">
                </div>
                <button class="btn btn-primary btn-zstack">Go</button>
                <div id="zstack-status" class="task-status alert alert-primary alert-success" role="alert">
                  Done
                </div>
              </form>
            </div>
            <div class="tab-pane" id="stitch" role="tabpanel" aria-labelledby="stitch-tab">
              <form>
                <div class="form-group">
                  <label for="stitch-x">X steps</label>
                  <input class="form-control" id="stitch-x" value="3">
                </div>
                <div class="form-group">
                  <label for="stitch-y">Y steps</label>
                  <input class="form-control" id="stitch-y" value="3">
                </div>
                <div class="form-group">
                  <label for="stitch-xstep">X stepsize</label>
                  <input class="form-control" id="stitch-xstep" value="100">
                </div>
                <div class="form-group">
                  <label for="stitch-ystep">Y stepsize</label>
                  <input class="form-control" id="stitch-ystep" value="50">
                </div>
                <button class="btn btn-primary btn-stitch">Go</button>
                <div id="stitch-status" class="task-status alert alert-primary alert-success" role="alert">
                  Done
                </div>
              </form>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Load vendor js libraries -->
  <script>
    window.jQuery || document.write('<script src="./js/jquery-3.1.1.min.js"><\/script>')
  </script>
  <script>
    window.io || document.write('<script src="./js/socket.io.min.js"><\/script>')
  </script>
  <script src="js/bootstrap.min.js"></script>

  <!-- Load custom js -->
  <script type="text/javascript" src=./js/script.js> </script> </body> </html>